<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>연합뉴스TV 뉴스</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .news-item { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
    .news-item img { max-width: 100%; height: auto; display: block; margin-top: 5px; }
  </style>
</head>
<body>
  <h1>연합뉴스TV 최신 뉴스</h1>
  <div id="news">로딩 중...</div>

  <script>
    const workerURL = 'https://your-worker-subdomain.workers.dev/'; // Worker URL
    const newsContainer = document.getElementById('news');

    async function loadNews() {
      try {
        const res = await fetch(workerURL); // 카테고리 없이 전체 최신 뉴스
        const text = await res.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(text, "application/xml");
        const items = xml.querySelectorAll('item');
        newsContainer.innerHTML = '';

        items.forEach(item => {
          const title = item.querySelector('title')?.textContent || '';
          const link = item.querySelector('link')?.textContent || '#';
          const description = item.querySelector('description')?.textContent || '';
          const image = item.querySelector('enclosure')?.getAttribute('url') || '';

          const div = document.createElement('div');
          div.className = 'news-item';
          div.innerHTML = `
            <a href="${link}" target="_blank"><h3>${title}</h3></a>
            ${image ? `<img src="${image}">` : ''}
            <p>${description}</p>
          `;
          newsContainer.appendChild(div);
        });
      } catch (err) {
        newsContainer.innerHTML = '뉴스를 불러오는데 실패했습니다.';
        console.error(err);
      }
    }

    loadNews(); // 페이지 로드 시 바로 최신 뉴스 불러오기
  </script>
</body>
</html>
